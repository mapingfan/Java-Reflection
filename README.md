# 反射小节

标签（空格分隔）： Java Reflection

---

## 反射小节
*反射学习过程中做的小实验，无参考价值*

昨天上课时候无聊，就拿手机查了个以前一直不清楚的知识点-`反射`。大部分都是直接讲解列举API函数，很少有深层次的讲解。自己手动实验了下，发现有些特性还是很有意思的。比如三种方式获取`Class`类的实例，还有就是了解了一些`ClassLoader`的知识。目前工程经验不是很多，很难对反射有很深的了解，但是一个博主举的工厂模式和反射的例子很有感觉。
下面搬运下博主的[博客地址][1]。
下面引用一段话
>Java 反射是可以让我们在运行时获取类的函数、属性、父类、接口等 Class 内部信息的机制。通过反射还可以让我们在运行期实例化对象，调用方法，通过调用 get/set 方法获取变量的值，即使方法或属性是私有的的也可以通过反射的形式调用，这种“看透 class”的能力被称为内省，这种能力在框架开发中尤为重要。

有些情况下，我们要使用的类在运行时才会确定，这个时候我们不能在编译期就使用它，因此只能通过反射的形式来使用在运行时才存在的类(该类符合某种特定的规范，例如 JDBC)，这是反射用得比较多的场景。
这个地方我感觉有个点特别容易混淆。`Class`是类，我们通过三种方法获得的不是`Class`，而是一个`Class`类型的对象。之后的各种操作，如获取`Field,Method,Constructor`等操作都是在这个基础上进行的。这些方法的使用很重要，但是我们用到的时候去翻文档更好，或者我们直接在项目中把它用熟就好。
我在知乎上也看见一个例子。运行某个大型系统，需要用到某个类的对象。这个时候我们是把系统停下来，然后`new`一个对象出来？作为一个小白，我认为就应该这样，其实业界的做法是反射。我们只需要在把这个类编译好，生成`.class`文件，然后通过`classLoader`就可以在运行时把它加载进去，至于生成对象，就可以交给反射，这个例子的启迪意义也很大。
至于更深层次的理解，等到工程实践多了回来补充。
最好提一句，反射可以打破封装，也就是说可以通过反射机制去访问`private`成员。这一点可以说是很吓人了。


  [1]: http://www.cnblogs.com/rollenholt/archive/2011/09/02/2163758.html